<!doctype html><html dl><head><title>ExpandingTextarea</title><style>body{margin:0;background:#56565A;font-family:'Helvetica Neue',Helvetica,sans-serif}body.demo-done #demo{margin:5em auto 7em}#demo{width:25em;margin:12em auto 9em;-webkit-perspective:1200;-webkit-transform-origin:0 -50%;-webkit-transition:all 1s}.expanding,.expanding-clone{font-size:250%;font-family:Helvetica-Neue,Helvetica,sans-serif;padding:.2em;background:rgba(255,255,255,.95);-webkit-transition:all 1s;-webkit-transition-delay:0;max-height:10.4em;-webkit-transition-delay:200ms}.expanding{z-index:1}.expanding-clone{transition:opacity 200ms;opacity:0}#demo.persp textarea{-webkit-transition:all 1s;-webkit-transform:rotateY(28deg)}#demo pre{opacity:0;-webkit-transform:rotateY(28deg) translateZ(-100px);display:block!important;z-index:-1;visibility:visible!important}#demo.persp pre{opacity:.2;-webkit-transition:opacity 500ms;-webkit-transition-delay:1s}#narrative{width:40%;margin:0 auto 5em;opacity:0;position:relative;background:#fff;color:#212121;padding:30px}body.demo-done #narrative{opacity:1;top:0;-webkit-transition:all 600ms}.top{text-align:center}h1{font-weight:400}h2{font-weight:400;font-size:120%;margin:2em 0 1em}p{font-size:95%;line-height:1.5em}code{font-family:Monaco,Menlo,Consolas,'Courier New',monospace;font-size:90%;color:#000032}a{color:grey}a.button{font-size:80%;border:1px solid grey;padding:.3em .7em;border-radius:1em;line-height:1.4em;text-decoration:none}a:hover{color:#00f;border-color:#00f}.footer{text-align:center;padding-top:3em;font-size:90%;opacity:.7}</style><script type='text/javascript' src='libs/jquery-1.11.0.js'></script><script type='text/javascript' src='expanding.js'></script></head><body><div id='demo'> <textarea class='expanding'></textarea></div><div id='narrative'><div class='top'> <h1>Expanding Textareas</h1> <iframe src='http://ghbtns.com/github-btn.html?user=bgrins&amp;repo=ExpandingTextareas&amp;type=watch&amp;count=true' allowtransparency='true' frameborder='0' scrolling='0' width='110' height='20'></iframe></div> <h2>How do they work?</h2> <p>Based on Neil Jenkins&#39; work at <a href='www.alistapart.com/articles/expanding-text-areas-made-elegant/'>alistapart</a>, an invisible clone pre element is maintained behind your textarea. Whenever the height of this pre changes, the textarea is updated.</p> <a class='button' href='#'>Toggle 3D</a> <h2>Usage</h2> <p>Include <code>expanding.js</code> and jQuery in your page. Any textareas with the <code>expanding</code> class will then be transformed.</p> <pre><code>&lt;script src='expanding.js'&gt;&lt;/script&gt;&lt;textarea class='expanding'&gt;&lt;/textarea&gt;</code></pre> <p>Advanced usage details on the <a href='https://github.com/bgrins/ExpandingTextareas'>GitHub page</a> (includes programmatic creation).</p> <h2>Styling</h2> <p>You can style the textarea however you like (including <code>max-height</code>) This plugin has been tested in Chrome, Safari, Firefox, IE8, and mobile Safari.</p> <p class='footer'>By <a href='http://github.com/bgrins'>@bgrins</a> with help from the <a href='http://github.com/bgrins/ExpandingTextareas/graphs/contributors'>contributors</a>.</p></div><script type='text/javascript'>$(function(){$('textarea').expanding().focus();$('#demo').click(function(){$('textarea').focus()});$('a.button').click(function(){$('#demo').toggleClass('persp');return false});var introSeq=new $.Deferred;var introAnimation=new $.Deferred;introSeq.done(function(){$('body').addClass('demo-done');$('textarea').focus();setTimeout(function(){introAnimation.resolve()},1e3)});setTimeout(function(){new TuringType($('textarea')[0],'This is just a normal textarea...\n\nexcept it expands when you type!',{callback:function(){introSeq.resolve()}})},500);setTimeout(function(){$('#demo').addClass('persp')},4e3);$(window).on('DOMMouseScroll mousewheel',function(e){if(e.originalEvent.detail>0||e.originalEvent.wheelDelta<0)introSeq.resolve();return false});introAnimation.done(function(){$(window).off('DOMMouseScroll mousewheel')})});(function(){var floor,rand,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};rand=Math.random;floor=Math.floor;window.TuringType=function(){TuringType.prototype.int=100;TuringType.prototype.accuracy=.95;TuringType.prototype.keys='qwertyuiop[]asdfghjklzxcvbnm,./;-='.split('');function TuringType(el,text,options){var accuracy,interval,tag,_ref;this.el=el;this.text=text;this.options=options!=null?options:{};this.type=__bind(this.type,this);if(!(this instanceof TuringType)){return function(func,args,ctor){ctor.prototype=func.prototype;var child=new ctor,result=func.apply(child,args);return Object(result)===result?result:child}(TuringType,arguments,function(){})}if(typeof this.el==='string'){this.el=document.querySelector(this.el)}this.len=this.text.length;this.i=0;_ref=this.options,accuracy=_ref.accuracy,interval=_ref.interval,this.callback=_ref.callback;this.accuracy=accuracy!=null?accuracy:this.accuracy;this.int=interval!=null?interval:this.int;if(tag=this.el.tagName.toLowerCase()==='textarea'||tag==='input'){this.attr='value';this.el.focus()}else{this.attr='innerText'}this.type()}TuringType.prototype.type=function(){var _this=this;if(this.i===this.len){return typeof this.callback==='function'?this.callback():void 0}if(rand()>this.accuracy){this.el[this.attr]+=this.keys[floor(rand()*this.keys.length)];return this.timer=setTimeout(function(){_this.el[_this.attr]=_this.text.slice(0,_this.i);return _this.timer=setTimeout(_this.type,rand()*_this.int+_this.int*.8)},this.int*1.5)}else{this.el[this.attr]+=this.text[this.i++];$(this.el).change();return this.timer=setTimeout(this.type,function(){var t;t=rand()*_this.int+_this.int*.1;if(_this.text[_this.i]===' '){t+=rand()*_this.int}if(_this.text[_this.i]==='.'||_this.text[_this.i]===','){t+=rand()*_this.int*3}if(rand()>.97){t+=_this.int*2}if(rand()>.95){t+=_this.int}return t}())}};TuringType.prototype.pause=function(){clearTimeout(this.timer);return this.el[this.attr]};return TuringType}()}).call(this);</script></body></html>
